<list>
  <ProcessDefinition>
    <processDefinitionPK>
      <companyId>1</companyId>
      <processId>baixa-transferencia-ativo</processId>
    </processDefinitionPK>
    <processDescription>Baixa e Transferência de Ativos</processDescription>
    <instruction></instruction>
    <active>true</active>
    <publicProcess>false</publicProcess>
    <volumeId>Default</volumeId>
    <categoryId>CIEE</categoryId>
    <managerEngineAllocationId></managerEngineAllocationId>
    <managerEngineAllocationConfiguration></managerEngineAllocationConfiguration>
    <snapshotFrequency>0</snapshotFrequency>
    <baseDay>0</baseDay>
    <baseMonth>0</baseMonth>
    <periodId>Default</periodId>
    <uniqueCardVersion>false</uniqueCardVersion>
    <keyWord></keyWord>
  </ProcessDefinition>
  <ProcessDefinitionVersion>
    <processDefinitionVersionPK>
      <companyId>1</companyId>
      <processId>Baixa e Transferência de Ativos</processId>
      <version>40</version>
    </processDefinitionVersionPK>
    <versionDescription></versionDescription>
    <formId>38</formId>
    <editionMode>true</editionMode>
    <updateAttachmentsVersion>true</updateAttachmentsVersion>
    <controlsAttachmentsSecurity>false</controlsAttachmentsSecurity>
    <active>true</active>
    <blockedVersion>false</blockedVersion>
    <counterSign>false</counterSign>
    <openInstances>0</openInstances>
    <bpmnVersion>1</bpmnVersion>
    <processStates/>
    <favorito>false</favorito>
  </ProcessDefinitionVersion>
  <list>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>baixa-transferencia-ativo</processId>
        <version>1</version>
        <sequence>3</sequence>
      </processStatePK>
      <stateName>Início</stateName>
      <stateDescription>Início</stateDescription>
      <instruction></instruction>
      <deadlineTime>0</deadlineTime>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId></engineAllocationId>
      <engineAllocationConfiguration></engineAllocationConfiguration>
      <selectColleague>0</selectColleague>
      <initialState>true</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>3600</allowanceAuthorityTime>
      <frequenceAuthorityTime>3600</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>false</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>360</positionX>
      <positionY>38</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>10</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>baixa-transferencia-ativo</processId>
        <version>1</version>
        <sequence>10</sequence>
      </processStatePK>
      <stateName>Exclusivo</stateName>
      <stateDescription>Exclusivo</stateDescription>
      <joint>false</joint>
      <initialState>false</initialState>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <automatic>true</automatic>
      <positionX>348</positionX>
      <positionY>115</positionY>
      <inhibitTransfer>false</inhibitTransfer>
      <stateType>1</stateType>
      <bpmnType>120</bpmnType>
      <signalId>0</signalId>
      <openInstances>0</openInstances>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>baixa-transferencia-ativo</processId>
        <version>1</version>
        <sequence>4</sequence>
      </processStatePK>
      <stateName>Fim</stateName>
      <stateDescription>Fim</stateDescription>
      <instruction>Atividade final do processo</instruction>
      <deadlineTime>0</deadlineTime>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId></engineAllocationId>
      <engineAllocationConfiguration></engineAllocationConfiguration>
      <selectColleague>0</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>0</allowanceAuthorityTime>
      <frequenceAuthorityTime>1</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>false</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>360</positionX>
      <positionY>240</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>60</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
    </ProcessState>
  </list>
  <list>
    <ConditionProcessState>
      <conditionProcessStatePK>
        <companyId>1</companyId>
        <processId>baixa-transferencia-ativo</processId>
        <expressionOrder>1</expressionOrder>
        <version>40</version>
        <sequence>10</sequence>
      </conditionProcessStatePK>
      <condition>true</condition>
      <destinationSequenceId>4</destinationSequenceId>
    </ConditionProcessState>
  </list>
  <list>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>baixa-transferencia-ativo</processId>
        <version>1</version>
        <linkSequence>11</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>3</initialStateSequence>
      <finalStateSequence>10</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>baixa-transferencia-ativo</processId>
        <version>1</version>
        <linkSequence>12</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>10</initialStateSequence>
      <finalStateSequence>4</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <type>0</type>
    </ProcessLink>
  </list>
  <list/>
  <list>
    <WorkflowProcessEvent>
      <workflowProcessEventPK>
        <companyId>1</companyId>
        <eventId>beforeStateEntry</eventId>
        <processId>baixa-transferencia-ativo</processId>
        <version>1</version>
      </workflowProcessEventPK>
      <eventDescription>function beforeStateEntry(sequenceId) {
	var FIM = 4;
	
	if(sequenceId != FIM)
		return;

	var motivoRoubo = (hAPI.getCardValue(&quot;slMotivoBaixa&quot;) == &quot;roubo&quot;);
	var msgValidacaoNegocio = new java.lang.StringBuilder();
	if(motivoRoubo)
		msgValidacaoNegocio.append(validarAoMenosUmAnexoSolicitacao());
		
	var existeValidacaoNegocio = !(msgValidacaoNegocio.toString().equals(&quot;&quot;));
	if(existeValidacaoNegocio)
		throw  msgValidacaoNegocio;
	
	var integracaoBaixa  = (hAPI.getCardValue(&quot;rdTpSolicitacao&quot;) == &quot;1&quot;);
	
	log.info(&quot;Integrando...&quot;);
	log.info(&quot;Tipo... &quot; + (integracaoBaixa?&quot;Baixa&quot;:&quot;Transferencia&quot;));
	
	var dadosIntegracao        = (integracaoBaixa? compilarDadosIntegracaoBaixa() : compilarDadosIntegracaoTransferencia());
	var retorno 		       = (integracaoBaixa? integrarBaixa(dadosIntegracao) : integrarTransferencia(dadosIntegracao));
	var MsgSubject			   = (integracaoBaixa? &quot;Solicita\u00e7\u00e3o de baixa&quot; : &quot;Solicita\u00e7\u00e3o de Transfer\u00eancia&quot; );
	var MsgHtml			   	   = (integracaoBaixa? &quot;Solicita&amp;ccedil;&amp;atilde;o de baixa de bens&quot; : &quot;Solicita&amp;ccedil;&amp;atilde;o de transfer&amp;ecirc;ncia de bens&quot; );
	var existeErroDesconhecido = retorno[&quot;erro&quot;];
	var msgNegocio             = &quot;&quot;;
	
	if(existeErroDesconhecido) {
		throw retorno[&quot;erro&quot;];
	}
	
	MovAnexoProtheus(sequenceId,&quot;0001&quot;+getValue(&quot;WKNumProces&quot;).toString());
	
	var tabela = &apos;&apos;;
	tabela += &apos;&lt;table height=&quot;19&quot; width=&quot;100%&quot; cellspacing=&quot;0&quot;&gt;&apos;;
	tabela += &apos;&lt;tbody&gt;&apos;;
	tabela += &apos;&lt;tr&gt;&lt;td class=&quot;TitleSmall&quot; align=&quot;center&quot; height=&quot;15&quot; width=&quot;100%&quot;&gt;&lt;/td&gt;&apos;;
	tabela += &apos;&lt;/tr&gt;&apos;;
	tabela += &apos;&lt;tr&gt;&lt;td class=&quot;TitleSmall&quot; align=&quot;Left&quot; height=&quot;15&quot; width=&quot;100%&quot; bgcolor=&quot;#000000&quot;&gt;&lt;b&gt;&lt;i&gt;&lt;font face=&quot;Arial&quot; size=&quot;3&quot; color=&quot;#FFFFFF&quot;&gt;&apos;+MsgHtml+&apos;&lt;/font&gt;&lt;/i&gt;&lt;/b&gt;&lt;/td&gt;&apos;;
	tabela += &apos;&lt;/tr&gt;&apos;;
	tabela += &apos;&lt;/tbody&gt;&apos;;
	tabela += &apos;&lt;/table&gt;&apos;;	
	tabela += &apos;&lt;table style=&quot;width: 100%;&quot; border=&quot;0&quot; cellspacing=&quot;1&quot;&gt;&apos;;
	tabela += &apos;&lt;tr&gt;&apos;;
	tabela += &apos;&lt;td class=&quot;TableRowBlueDarkMini&quot; align=&quot;center&quot; width=&quot;10%&quot;&gt;&apos;;
	tabela += &apos;&lt;font face=&quot;Arial&quot; size=&quot;2&quot; color=&quot;#000000&quot;&gt;C. Custo&lt;/font&gt;&lt;/td&gt;&apos;;
	tabela += &apos;&lt;td  class=&quot;TableRowBlueDarkMini&quot; align=&quot;center&quot; width=&quot;10%&quot;&gt;&apos;;
	tabela += &apos;&lt;font face=&quot;Arial&quot; size=&quot;2&quot; color=&quot;#000000&quot;&gt;Plaqueta&lt;/font&gt;&lt;/td&gt;&apos;;
	tabela += &apos;&lt;td class=&quot;TableRowBlueDarkMini&quot; align=&quot;center&quot; width=&quot;15%&quot;&gt;&apos;;
	tabela += &apos;&lt;font face=&quot;Arial&quot; size=&quot;2&quot; color=&quot;#000000&quot;&gt;Descri&amp;ccedil;&amp;atilde;o (Ativo)&lt;/font&gt;&lt;/td&gt;&apos;;
	tabela += &apos;&lt;td class=&quot;TableRowBlueDarkMini&quot; align=&quot;center&quot; width=&quot;10%&quot;&gt;&apos;;
	tabela += &apos;&lt;font face=&quot;Arial&quot; size=&quot;2&quot; color=&quot;#000000&quot;&gt;Cod. Do Bem&lt;/font&gt;&lt;/td&gt;&apos;;
	tabela += &apos;&lt;td class=&quot;TableRowBlueDarkMini&quot; align=&quot;center&quot; width=&quot;10%&quot;&gt;&apos;;
	tabela += &apos;&lt;font face=&quot;Arial&quot; size=&quot;2&quot; color=&quot;#000000&quot;&gt;Item&lt;/font&gt;&lt;/td&gt;&apos;;
	tabela += &apos;&lt;td  class=&quot;TableRowBlueDarkMini&quot; align=&quot;center&quot; width=&quot;10%&quot;&gt;&apos;;
	tabela += &apos;&lt;font face=&quot;Arial&quot; size=&quot;2&quot; color=&quot;#000000&quot;&gt;Qtdade.&lt;/font&gt;&lt;/td&gt;&apos;;
	tabela += &apos;&lt;td class=&quot;TableRowBlueDarkMini&quot; align=&quot;center&quot; width=&quot;10%&quot;&gt;&apos;;
	tabela += &apos;&lt;font face=&quot;Arial&quot; size=&quot;2&quot; color=&quot;#000000&quot;&gt;Dt. Aquisi&amp;ccedil;&amp;atilde;o&lt;/font&gt;&lt;/td&gt;&apos;;
	tabela += &apos;&lt;td class=&quot;TableRowBlueDarkMini&quot; align=&quot;center&quot; width=&quot;10%&quot;&gt;&apos;;
	tabela += &apos;&lt;font face=&quot;Arial&quot; size=&quot;2&quot; color=&quot;#000000&quot;&gt;Status&lt;/font&gt;&lt;/td&gt;&apos;;
	tabela += &apos;&lt;td class=&quot;TableRowBlueDarkMini&quot; align=&quot;center&quot; width=&quot;15%&quot;&gt;&apos;;
	tabela += &apos;&lt;font face=&quot;Arial&quot; size=&quot;2&quot; color=&quot;#000000&quot;&gt;Mensagem&lt;/font&gt;&lt;/td&gt;&apos;;
	tabela += &apos;&lt;/tr&gt;&apos;;
	tabela += &apos;&lt;tbody&gt;&apos;;
	
	
	for(var i in dadosIntegracao[&quot;ITENS&quot;]){
		var cdBem    = dadosIntegracao[&quot;ITENS&quot;][i].ativoCodBem.value;
		var nmCodBem = dadosIntegracao[&quot;ITENS&quot;][i].ativoCodBem.name;
		
		var existeErroNegocio = (retorno[cdBem]!=undefined);
		
		if(existeErroNegocio){
			var msgNegocioItem  = &quot;\nBem: &quot; + cdBem + &quot;,  &quot; + retorno[cdBem].msg; 
			msgValidacaoNegocio.append(msgNegocioItem);
		}
		hAPI.setCardValue(nmCodBem, (existeErroNegocio?&quot;NOK&quot;:&quot;OK&quot;));
		
		tabela += &apos;&lt;tr&gt;&apos;;
		tabela += &apos;&lt;td class=&quot;TableRowWhiteMini2&quot; style=&quot;border-bottom-style: solid; border-bottom-width: 1px&quot;&gt;&lt;p align=&quot;center&quot;&gt;&apos;;
		tabela += &apos;&lt;font face=&quot;Arial&quot; size=&quot;2&quot;&gt;&apos; + dadosIntegracao[&quot;ITENS&quot;][i].ativoCCusto.value + &apos;&lt;/font&gt;&lt;/p&gt;&lt;/td&gt;&apos;;
		tabela += &apos;&lt;td class=&quot;TableRowWhiteMini2&quot; style=&quot;border-bottom-style: solid; border-bottom-width: 1px&quot;&gt;&lt;p align=&quot;center&quot;&gt;&apos;;
		tabela += &apos;&lt;font face=&quot;Arial&quot; size=&quot;2&quot;&gt;&apos; + dadosIntegracao[&quot;ITENS&quot;][i].ativoPlaqueta.value + &apos;&lt;/font&gt;&lt;/p&gt;&lt;/td&gt;&apos;;
		tabela += &apos;&lt;td class=&quot;TableRowWhiteMini2&quot; style=&quot;border-bottom-style: solid; border-bottom-width: 1px&quot;&gt;&apos;;
		tabela += &apos;&lt;font face=&quot;Arial&quot; size=&quot;2&quot;&gt;&apos; + dadosIntegracao[&quot;ITENS&quot;][i].ativoDescricao.value + &apos;&lt;/font&gt;&lt;/td&gt;&apos;;
		tabela += &apos;&lt;td class=&quot;TableRowWhiteMini2&quot; style=&quot;border-bottom-style: solid; border-bottom-width: 1px&quot;&gt;&lt;p align=&quot;center&quot;&gt;&apos;;
		tabela += &apos;&lt;font face=&quot;Arial&quot; size=&quot;2&quot;&gt;&apos; + dadosIntegracao[&quot;ITENS&quot;][i].ativoCodBem.value + &apos;&lt;/font&gt;&lt;/p&gt;&lt;/td&gt;&apos;;
		tabela += &apos;&lt;td class=&quot;TableRowWhiteMini2&quot; style=&quot;border-bottom-style: solid; border-bottom-width: 1px&quot;&gt;&lt;p align=&quot;center&quot;&gt;&apos;;
		tabela += &apos;&lt;font face=&quot;Arial&quot; size=&quot;2&quot;&gt;&apos; + dadosIntegracao[&quot;ITENS&quot;][i].ativoItem.value + &apos;&lt;/font&gt;&lt;/p&gt;&lt;/td&gt;&apos;;
		tabela += &apos;&lt;td class=&quot;TableRowWhiteMini2&quot; style=&quot;border-bottom-style: solid; border-bottom-width: 1px&quot;&gt;&lt;p align=&quot;center&quot;&gt;&apos;;
		tabela += &apos;&lt;font face=&quot;Arial&quot; size=&quot;2&quot;&gt;&apos; + dadosIntegracao[&quot;ITENS&quot;][i].ativoQtdade.value + &apos;&lt;/font&gt;&lt;/p&gt;&lt;/td&gt;&apos;;
		tabela += &apos;&lt;td class=&quot;TableRowWhiteMini2&quot; style=&quot;border-bottom-style: solid; border-bottom-width: 1px&quot;&gt;&lt;p align=&quot;center&quot;&gt;&apos;;
		tabela += &apos;&lt;font face=&quot;Arial&quot; size=&quot;2&quot;&gt;&apos; + dadosIntegracao[&quot;ITENS&quot;][i].ativoDtAquisicao.value + &apos;&lt;/font&gt;&lt;/p&gt;&lt;/td&gt;&apos;;
		tabela += &apos;&lt;td class=&quot;TableRowWhiteMini2&quot; style=&quot;border-bottom-style: solid; border-bottom-width: 1px&quot;&gt;&lt;p align=&quot;center&quot;&gt;&apos;;
		tabela += &apos;&lt;font face=&quot;Arial&quot; size=&quot;2&quot;&gt;&apos; + (!existeErroNegocio ? &apos;Realizado&apos; : &apos;N&amp;atilde;o realizado&apos;) + &apos;&lt;/font&gt;&lt;/p&gt;&lt;/td&gt;&apos;;
		tabela += &apos;&lt;td class=&quot;TableRowWhiteMini2&quot; style=&quot;border-bottom-style: solid; border-bottom-width: 1px&quot;&gt;&apos;;
		tabela += &apos;&lt;font face=&quot;Arial&quot; size=&quot;2&quot;&gt;&apos; + (!existeErroNegocio ? &apos;&apos; : retorno[cdBem].msg) + &apos;&lt;/font&gt;&lt;/td&gt;&apos;;
		tabela += &apos;&lt;/tr&gt;&apos;;
	}
	
	existeValidacaoNegocio = !(msgValidacaoNegocio.toString().equals(&quot;&quot;));
	//if(existeValidacaoNegocio)
	//	throw  msgValidacaoNegocio;
	
	tabela += &apos;&lt;/tbody&gt;&apos;;
	tabela += &apos;&lt;/table&gt;&apos;;
	
	
	var parametros = new java.util.HashMap();
	parametros.put(&quot;WDK_NumProcess&quot;, getValue(&quot;WKNumProces&quot;));
	parametros.put(&quot;WDK_CompanyId&quot;, getValue(&quot;WKCompany&quot;));
	parametros.put(&quot;WDK_Tabela_Ativos&quot;, tabela);
	
	parametros.put(&quot;subject&quot;, MsgSubject);	
	
	var destinatarios = new java.util.ArrayList();
	destinatarios.add(hAPI.getCardValue(&quot;txtMatSolicitante&quot;));
	
	if (!existeErroNegocio) {
		if (hAPI.getCardValue(&quot;txtMatSuperior&quot;).isEmpty() == false){
			destinatarios.add(hAPI.getCardValue(&quot;txtMatSuperior&quot;));	
		}	
		
		if (hAPI.getCardValue(&quot;txtMatAtf&quot;).isEmpty() == false){
			destinatarios.add(hAPI.getCardValue(&quot;txtMatAtf&quot;));	
		}		
	}
    
	notifier.notify(getValue(&quot;WKUser&quot;), &quot;tpl-custom-baixa-transferencia&quot;, parametros, destinatarios, &quot;text/html&quot;);
	
}

function validarAoMenosUmAnexoSolicitacao(){
	var atividadeInicio     = 1;
	var nrSolicitacao       = getValue(&quot;WKNumProces&quot;);
	var anexosSolicitacao   = consultarAnexosSolicitacaoPorAtividade(nrSolicitacao, atividadeInicio);
	var aoMenosUmAnexo      = (anexosSolicitacao.rowsCount &gt; 1);
	var msgValidacaoNegocio = &quot;&quot;;
	if(!aoMenosUmAnexo)
		msgValidacaoNegocio = &quot;� preciso adicionar ao menos um arquivo anexo quando o motivo da solicita��o for Roubo&quot;;
	
	return msgValidacaoNegocio;
}

function consultarAnexosSolicitacaoPorAtividade(nrSolicitacao, atividade){
	var empresa           = getValue(&quot;WKCompany&quot;);
	var processConstraint = DatasetFactory.createConstraint(&quot;processAttachmentPK.processInstanceId&quot;, nrSolicitacao, nrSolicitacao, ConstraintType.MUST);
	var companyConstraint = DatasetFactory.createConstraint(&quot;processAttachmentPK.companyId&quot;, empresa, empresa, ConstraintType.MUST);
	var movConstraint     = DatasetFactory.createConstraint(&quot;originalMovementSequence&quot;, atividade, atividade, ConstraintType.MUST);
	var attachFields      = new Array(&quot;documentId&quot;,&quot;processAttachmentPK.attachmentSequence&quot;);
	var attachConstList   = new Array(processConstraint, companyConstraint, movConstraint);
	var attachDataset     = DatasetFactory.getDataset(&quot;processAttachment&quot;, attachFields, attachConstList, new Array(&quot;processAttachmentPK.attachmentSequence&quot;));
	return attachDataset;
}

function compilarDadosIntegracaoBaixa(){
	var UUID = java.util.UUID.randomUUID();
	var integracao  = [];	
	integracao[&quot;GlobalProduct&quot;]                     = &quot;TOTVS|EAI&quot;;    
	integracao[&quot;GlobalFunctionCode&quot;]                = &quot;EAI&quot;;               
	integracao[&quot;GlobalDocumentFunctionCode&quot;]        = &quot;CEAIA27&quot;;
	integracao[&quot;GlobalDocumentFunctionDescription&quot;] = &quot;Integracao Fluig x Protheus - Baixa&quot;;
	integracao[&quot;DocVersion&quot;] 						= &quot;1.0&quot;;
	integracao[&quot;DocDateTime&quot;] 					    = consultarDataHoraAtual();
	integracao[&quot;DocIdentifier&quot;] 					= UUID;
	integracao[&quot;DocCompany&quot;] 						= hAPI.getCardValue(&quot;txtEmpresa&quot;);
	integracao[&quot;DocBranch&quot;] 						= hAPI.getCardValue(&quot;txtFilial&quot;);
	integracao[&quot;DocName&quot;] 						    = &quot;&quot;;
	integracao[&quot;DocFederalID&quot;] 					    = &quot;&quot;;
	integracao[&quot;DocType&quot;] 						    = &quot;1&quot;;

	integracao[&quot;Identifier&quot;]                        = &quot;CEAIA27&quot;;
	integracao[&quot;Version&quot;]                           = &quot;1.0&quot;;
	integracao[&quot;FunctionCode&quot;]                      = &quot;U_CEAIA27&quot;;
	
	integracao[&quot;NM_XCODFOR&quot;] 						= getValue(&quot;WKNumProces&quot;).toString();
	integracao[&quot;NM_LOCAL&quot;] 						    = hAPI.getCardValue(&quot;dsLocalizacaoTransf&quot;);
	integracao[&quot;NM_XMATRIC&quot;] 						= hAPI.getCardValue(&quot;txtMatSolicitante&quot;);
	integracao[&quot;NM_MOTBX&quot;] 						    = &quot;0&quot; + hAPI.getCardValue(&quot;slMotivoBaixa&quot;);
	integracao[&quot;NM_CDHSOL&quot;] 						= &quot;&lt;![CDATA[&quot; + new java.lang.String(hAPI.getCardValue(&quot;dsHistSolic&quot;).getBytes(&quot;UTF-8&quot;), &quot;ISO-8859-1&quot;) + &quot;]]&gt;&quot;;
	
	/* CAMPOS DOACAO */
	integracao[&quot;NM_XNOMENT&quot;]						= hAPI.getCardValue(&quot;nmEntidadeReceptora&quot;);
	integracao[&quot;NM_XCGCENT&quot;]						= hAPI.getCardValue(&quot;numCnpjReceptora&quot;);
	
	var dadosPaiFilho = consultaDadosPaiFilho([&quot;ativoCodBem&quot;, &quot;ativoItem&quot;, &quot;ativoQtdade&quot;, &quot;ativoPlaqueta&quot;, &quot;ativoDescricao&quot;, &quot;ativoCCusto&quot;, &quot;ativoDtAquisicao&quot;]);
	integracao[&quot;ITENS&quot;] = dadosPaiFilho; 			
	return integracao;
}

function compilarDadosIntegracaoTransferencia(){
	var UUID = java.util.UUID.randomUUID();
	var integracao  = [];	
	integracao[&quot;GlobalProduct&quot;]                     = &quot;TOTVS|EAI&quot;;      
	integracao[&quot;GlobalFunctionCode&quot;]                = &quot;EAI&quot;;               
	integracao[&quot;GlobalDocumentFunctionCode&quot;]        = &quot;CEAIA28&quot;;
	integracao[&quot;GlobalDocumentFunctionDescription&quot;] = &quot;Integracao Fluig x Protheus - Transfer�ncia&quot;;
	integracao[&quot;DocVersion&quot;] 						= &quot;1.0&quot;;
	integracao[&quot;DocDateTime&quot;] 					    = consultarDataHoraAtual();
	integracao[&quot;DocIdentifier&quot;] 					= UUID;
	integracao[&quot;DocCompany&quot;] 						= hAPI.getCardValue(&quot;txtEmpresa&quot;);
	integracao[&quot;DocBranch&quot;] 						= hAPI.getCardValue(&quot;txtFilial&quot;);
	integracao[&quot;DocName&quot;] 						    = &quot;&quot;; 
	integracao[&quot;DocFederalID&quot;] 					    = &quot;&quot;;
	integracao[&quot;DocType&quot;] 						    = &quot;1&quot;;

	integracao[&quot;Identifier&quot;]                        = &quot;CEAIA28&quot;;
	integracao[&quot;Version&quot;]                           = &quot;1.0&quot;;
	integracao[&quot;FunctionCode&quot;]                      = &quot;U_CEAIA28&quot;;
	
	integracao[&quot;NM_XCODFOR&quot;] 						= getValue(&quot;WKNumProces&quot;).toString();
	
	integracao[&quot;NM_CCUSTO&quot;] 						= hAPI.getCardValue(&quot;cdCcustoTransf&quot;);
	integracao[&quot;NM_LOCAL&quot;] 						    = hAPI.getCardValue(&quot;cdLocalizacaoTransf&quot;);
	integracao[&quot;NM_XMATRIC&quot;] 						= hAPI.getCardValue(&quot;txtMatSolicitante&quot;);
	integracao[&quot;NM_MOTBX&quot;] 						    = &quot;0&quot; + hAPI.getCardValue(&quot;slMotivoBaixa&quot;);
	integracao[&quot;NM_CDHSOL&quot;] 						= &quot;&lt;![CDATA[&quot; + new java.lang.String(hAPI.getCardValue(&quot;dsHistSolic&quot;).getBytes(&quot;UTF-8&quot;), &quot;ISO-8859-1&quot;) + &quot;]]&gt;&quot;;
	
	var dadosPaiFilho = consultaDadosPaiFilho([&quot;ativoCodBem&quot;, &quot;ativoItem&quot;, &quot;ativoCCusto&quot;, &quot;ativoPlaqueta&quot;, &quot;ativoDescricao&quot;, &quot;ativoQtdade&quot;, &quot;ativoDtAquisicao&quot;]);
	integracao[&quot;ITENS&quot;] = dadosPaiFilho;  	
	return integracao;
}

function consultarDataHoraAtual(){
	var dateFormat = new java.text.SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss&quot;);
	return dateFormat.format(new java.util.Date());
}

function consultaDadosPaiFilho(fields){
	var nr_solicitacao = getValue(&quot;WKNumProces&quot;);
	var cardData   = hAPI.getCardData(nr_solicitacao);	
	var it         = cardData.keySet().iterator();
	var listaFilho = new Array();
	var fieldTemp  = fields[0];

	while (it.hasNext()) {
		var key = it.next();
		var campo = key.split(&quot;___&quot;);		

		if (key.indexOf(&apos;___&apos;) &gt;= 0 &amp;&amp; campo[0] == fieldTemp) {
			var idx = campo[1];
			var row = new Object();
			
			for(var i=0; i&lt;fields.length; i++){
				var name = fields[i] + &quot;___&quot; + idx;
				row[fields[i]] = {value:hAPI.getCardValue(name), idx:idx, name:name};
			}
			listaFilho.push(row);
		}		
	}
	return listaFilho;
}

function MovAnexoProtheus(sequenceId,CodDocProtheus){

log.info(&quot;Movendo anexo....&quot;);

if (sequenceId == 4) {
    var calendar = java.util.Calendar.getInstance().getTime();
    var docs = hAPI.listAttachments();
    for (var i = 0; i &lt; docs.size(); i++) {
        var doc = docs.get(i);
         
        if (doc.getDocumentType() != &quot;7&quot;) {
            continue;
        }
        
        log.info(doc);
        
        doc.setParentDocumentId(178);
        doc.setDocumentType(&quot;3&quot;); // 
        doc.setVersionDescription(&quot;Processo: &quot; + getValue(&quot;WKNumProces&quot;));
        doc.setExpires(false);
        doc.setCreateDate(calendar);
        doc.setInheritSecurity(true);
        doc.setTopicId(1);
        doc.setUserNotify(false);
        doc.setValidationStartDate(calendar);
        doc.setVersionOption(&quot;0&quot;);
        doc.setUpdateIsoProperties(true);
        doc.setExternalDocumentId(CodDocProtheus);
        doc.setDocumentDescription(&quot;Processo: &quot; + getValue(&quot;WKNumProces&quot;));
         
        hAPI.publishWorkflowAttachment(doc);
    }
}
    
	
}</eventDescription>
    </WorkflowProcessEvent>
    <WorkflowProcessEvent>
      <workflowProcessEventPK>
        <companyId>1</companyId>
        <eventId>integrarBaixa</eventId>
        <processId>baixa-transferencia-ativo</processId>
        <version>1</version>
      </workflowProcessEventPK>
      <eventDescription>function integrarBaixa(dadosIntegracao) {
	try {
		var servico = ServiceManager.getService(&quot;protheus_ciee_axis&quot;); 
        var bean    = servico.getBean();
        var locator = bean.instantiate(&quot;_190._2._10._10.CIEELocator&quot;);
        var metodos = locator.getCIEESOAP();
        var itens  	= dadosIntegracao[&quot;ITENS&quot;];
        var retorno = {};
        
        for(var j in itens){
        	var item 		   = itens[j];
	        var xml		       = compilarXMLBaixa(dadosIntegracao, item);
	        var xmlRetornoItem = metodos.FSERVICE(xml);      
			var msgRetornoItem = extrairRetornoXML(xmlRetornoItem);
			
			log.info(&quot;=&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; msgRetornoItem: &quot; + msgRetornoItem);
			
			if(msgRetornoItem){				
				var nmCodBem   = item.ativoCodBem.name;
				var cdBem  	   = item.ativoCodBem.value;
				retorno[cdBem] = {name:nmCodBem, msg:msgRetornoItem};
			}
		}     
		
		return retorno;
	} catch (e) {
		var msgErro = &quot;Ocorreu um erro ao integrar com protheus (Baixa)... &quot; + e.message;
		log.info(msgErro);
		return {erro:msgErro};
	}
}

function compilarXMLBaixa(integracao, item){
	var ativoCodBem = item.ativoCodBem.value;
	var ativoItem   = item.ativoItem.value;
	var ativoQtdade = item.ativoQtdade.value;
	var ativoPlaqueta = item.ativoPlaqueta.value;
	
	var xml = 
		&quot;&lt;TOTVSIntegrator&gt;&quot; + 
			&quot;&lt;GlobalProduct&gt;&quot;                     + integracao[&quot;GlobalProduct&quot;]                     + &quot;&lt;/GlobalProduct&gt;&quot; +
			&quot;&lt;GlobalFunctionCode&gt;&quot;                + integracao[&quot;GlobalFunctionCode&quot;]                + &quot;&lt;/GlobalFunctionCode&gt;&quot; +
			&quot;&lt;GlobalDocumentFunctionCode&gt;&quot;        + integracao[&quot;GlobalDocumentFunctionCode&quot;]        + &quot;&lt;/GlobalDocumentFunctionCode&gt;&quot; +
			&quot;&lt;GlobalDocumentFunctionDescription&gt;&quot; + integracao[&quot;GlobalDocumentFunctionDescription&quot;] + &quot;&lt;/GlobalDocumentFunctionDescription&gt;&quot; +
			&quot;&lt;DocVersion&gt;&quot;                        + integracao[&quot;DocVersion&quot;] 						+ &quot;&lt;/DocVersion&gt;&quot; +
			&quot;&lt;DocDateTime&gt;&quot;                       + integracao[&quot;DocDateTime&quot;] 					    + &quot;&lt;/DocDateTime&gt;&quot; +
			&quot;&lt;DocIdentifier&gt;&quot;                     + integracao[&quot;DocIdentifier&quot;] 					+ &quot;&lt;/DocIdentifier&gt;&quot; +
			&quot;&lt;DocCompany&gt;&quot;                        + integracao[&quot;DocCompany&quot;] 						+ &quot;&lt;/DocCompany&gt;&quot; +
			&quot;&lt;DocBranch&gt;&quot;                         + integracao[&quot;DocBranch&quot;] 						+ &quot;&lt;/DocBranch&gt;&quot; +
			&quot;&lt;DocName&gt;&quot;                           + integracao[&quot;DocName&quot;] 						    + &quot;&lt;/DocName&gt;&quot; +
			&quot;&lt;DocFederalID&gt;&quot;                      + integracao[&quot;DocFederalID&quot;] 					    + &quot;&lt;/DocFederalID&gt;&quot; +
			&quot;&lt;DocType&gt;&quot;                           + integracao[&quot;DocType&quot;] 						    + &quot;&lt;/DocType&gt;&quot; +
			&quot;&lt;Message&gt;&quot; +
				&quot;&lt;Layouts&gt;&quot; +
					&quot;&lt;Identifier&gt;&quot;   + integracao[&quot;Identifier&quot;]   + &quot;&lt;/Identifier&gt;&quot; +
					&quot;&lt;Version&gt;&quot;      + integracao[&quot;Version&quot;]      + &quot;&lt;/Version&gt;&quot; +
					&quot;&lt;FunctionCode&gt;&quot; + integracao[&quot;FunctionCode&quot;] + &quot;&lt;/FunctionCode&gt;&quot; +					  
					&quot;&lt;Content&gt;&quot; +
						&quot;&lt;CEAIA27 Operation=&apos;3&apos; version=&apos;1.01&apos;&gt;&quot; +
							&quot;&lt;SNMMASTER modeltype=&apos;FIELDS&apos;&gt;&quot; +							
								&quot;&lt;NM_XCODFOR&gt;&quot; + integracao[&quot;NM_XCODFOR&quot;] + &quot;&lt;/NM_XCODFOR&gt;&quot; +
								&quot;&lt;NM_CBASE&gt;&quot;   + ativoCodBem 			  + &quot;&lt;/NM_CBASE&gt;&quot; +
								&quot;&lt;NM_ITEM&gt;&quot;    + ativoItem   			  + &quot;&lt;/NM_ITEM&gt;&quot; +	
								&quot;&lt;NM_QTDBX&gt;&quot;   + ativoQtdade 			  + &quot;&lt;/NM_QTDBX&gt;&quot; +								
								&quot;&lt;NM_MOTBX&gt;&quot;   + integracao[&quot;NM_MOTBX&quot;]   + &quot;&lt;/NM_MOTBX&gt;&quot; +
								&quot;&lt;NM_LOCAL&gt;&quot;   + integracao[&quot;NM_LOCAL&quot;]   + &quot;&lt;/NM_LOCAL&gt;&quot; +						 
								&quot;&lt;NM_CDHSOL&gt;&quot;  + integracao[&quot;NM_CDHSOL&quot;]  + &quot;&lt;/NM_CDHSOL&gt;&quot; +
								&quot;&lt;NM_XMATRIC&gt;&quot; + integracao[&quot;NM_XMATRIC&quot;] + &quot;&lt;/NM_XMATRIC&gt;&quot; +		
								&quot;&lt;NM_XNOMENT&gt;&quot; + integracao[&quot;NM_XNOMENT&quot;] + &quot;&lt;/NM_XNOMENT&gt;&quot; +
								&quot;&lt;NM_XCGCENT&gt;&quot; + integracao[&quot;NM_XCGCENT&quot;] + &quot;&lt;/NM_XCGCENT&gt;&quot; +
							&quot;&lt;/SNMMASTER&gt;&quot; +
						&quot;&lt;/CEAIA27&gt;&quot; +					
					&quot;&lt;/Content&gt;&quot; +
				&quot;&lt;/Layouts&gt;&quot; +
			&quot;&lt;/Message&gt;&quot; +
		&quot;&lt;/TOTVSIntegrator&gt;&quot;;
	return xml;	
}

function extrairRetornoXML(strXml){
	var xml = new XML(strXml);
	var msgRetorno = &quot;&quot;;
	
	for each(item in xml.LOGMASTER){
		if(item.MOTIVO != &quot;&quot;)
			msgRetorno = msgRetorno.concat(item.MOTIVO + &quot;\n&quot;);
		
	}
	return msgRetorno;
}</eventDescription>
    </WorkflowProcessEvent>
    <WorkflowProcessEvent>
      <workflowProcessEventPK>
        <companyId>1</companyId>
        <eventId>integrarTransferencia</eventId>
        <processId>baixa-transferencia-ativo</processId>
        <version>1</version>
      </workflowProcessEventPK>
      <eventDescription>function integrarTransferencia(dadosIntegracao) {
	try {
		var servico = ServiceManager.getService(&quot;protheus_ciee_axis&quot;); 
        var bean    = servico.getBean();
        var locator = bean.instantiate(&quot;_190._2._10._10.CIEELocator&quot;);
        var metodos = locator.getCIEESOAP();
        var itens  	= dadosIntegracao[&quot;ITENS&quot;];
        var retorno = {};

        for(var j in itens){
        	var item 		   = itens[j];
	        var xml		       = compilarXMLTransferencia(dadosIntegracao, item);
	        var xmlRetornoItem = metodos.FSERVICE(xml);      
			var msgRetornoItem = extrairRetornoXML(xmlRetornoItem);
			
			if(msgRetornoItem){	
				var nmCodBem   = item.ativoCodBem.name;
				var cdBem  	   = item.ativoCodBem.value;
				retorno[cdBem] = {name:nmCodBem, msg:msgRetornoItem};
			}
		}
		return retorno;
	} catch (e) {
		var msgErro = &quot;Ocorreu um erro ao integrar com protheus (Transferencia)... &quot; + e.message;
		log.info(msgErro);
		return {erro:msgErro};
	}	
}

function compilarXMLTransferencia(integracao, item){
	var ativoCodBem = item.ativoCodBem.value;
	var ativoItem   = item.ativoItem.value;
	//var ativoCCusto = item.ativoCCusto.value;
		
	var xml = 
		&quot;&lt;TOTVSIntegrator&gt;&quot; + 
			&quot;&lt;GlobalProduct&gt;&quot;                     + integracao[&quot;GlobalProduct&quot;]                     + &quot;&lt;/GlobalProduct&gt;&quot; +
			&quot;&lt;GlobalFunctionCode&gt;&quot;                + integracao[&quot;GlobalFunctionCode&quot;]                + &quot;&lt;/GlobalFunctionCode&gt;&quot; +
			&quot;&lt;GlobalDocumentFunctionCode&gt;&quot;        + integracao[&quot;GlobalDocumentFunctionCode&quot;]        + &quot;&lt;/GlobalDocumentFunctionCode&gt;&quot; +
			&quot;&lt;GlobalDocumentFunctionDescription&gt;&quot; + integracao[&quot;GlobalDocumentFunctionDescription&quot;] + &quot;&lt;/GlobalDocumentFunctionDescription&gt;&quot; +
			&quot;&lt;DocVersion&gt;&quot;                        + integracao[&quot;DocVersion&quot;] 						+ &quot;&lt;/DocVersion&gt;&quot; +
			&quot;&lt;DocDateTime&gt;&quot;                       + integracao[&quot;DocDateTime&quot;] 					    + &quot;&lt;/DocDateTime&gt;&quot; +   
			&quot;&lt;DocIdentifier&gt;&quot;                     + integracao[&quot;DocIdentifier&quot;] 					+ &quot;&lt;/DocIdentifier&gt;&quot; + 
			&quot;&lt;DocCompany&gt;&quot;                        + integracao[&quot;DocCompany&quot;] 						+ &quot;&lt;/DocCompany&gt;&quot; +    
			&quot;&lt;DocBranch&gt;&quot;                         + integracao[&quot;DocBranch&quot;] 						+ &quot;&lt;/DocBranch&gt;&quot; +     
			&quot;&lt;DocName&gt;&quot;                           + integracao[&quot;DocName&quot;] 						    + &quot;&lt;/DocName&gt;&quot; +	   
			&quot;&lt;DocFederalID&gt;&quot;                      + integracao[&quot;DocFederalID&quot;] 					    + &quot;&lt;/DocFederalID&gt;&quot; +
			&quot;&lt;DocType&gt;&quot;                           + integracao[&quot;DocType&quot;] 						    + &quot;&lt;/DocType&gt;&quot; +
			&quot;&lt;Message&gt;&quot; +
				&quot;&lt;Layouts&gt;&quot; +
					&quot;&lt;Identifier&gt;&quot;   + integracao[&quot;Identifier&quot;]   + &quot;&lt;/Identifier&gt;&quot; +
					&quot;&lt;Version&gt;&quot;      + integracao[&quot;Version&quot;]      + &quot;&lt;/Version&gt;&quot; +
					&quot;&lt;FunctionCode&gt;&quot; + integracao[&quot;FunctionCode&quot;] + &quot;&lt;/FunctionCode&gt;&quot; +					  
					&quot;&lt;Content&gt;&quot; +
						&quot;&lt;CEAIA28 Operation=&apos;5&apos; version=&apos;1.01&apos;&gt;&quot; +
							&quot;&lt;SNMMASTER modeltype=&apos;FIELDS&apos;&gt;&quot; +
								&quot;&lt;NM_XCODFOR&gt;&quot; + integracao[&quot;NM_XCODFOR&quot;] + &quot;&lt;/NM_XCODFOR&gt;&quot; +
								&quot;&lt;NM_CBASE&gt;&quot;   + ativoCodBem   			  + &quot;&lt;/NM_CBASE&gt;&quot; +
								&quot;&lt;NM_ITEM&gt;&quot;    + ativoItem   			  + &quot;&lt;/NM_ITEM&gt;&quot; +								
								&quot;&lt;NM_CCUSTO&gt;&quot;  + integracao[&quot;NM_CCUSTO&quot;]  + &quot;&lt;/NM_CCUSTO&gt;&quot; +
								&quot;&lt;NM_LOCAL&gt;&quot;   + integracao[&quot;NM_LOCAL&quot;]   + &quot;&lt;/NM_LOCAL&gt;&quot; +
								&quot;&lt;NM_CDHSOL&gt;&quot;  + integracao[&quot;NM_CDHSOL&quot;]  + &quot;&lt;/NM_CDHSOL&gt;&quot; +			
								&quot;&lt;NM_XMATRIC&gt;&quot; + integracao[&quot;NM_XMATRIC&quot;] + &quot;&lt;/NM_XMATRIC&gt;&quot; +
							&quot;&lt;/SNMMASTER&gt;&quot; +
						&quot;&lt;/CEAIA28&gt;&quot; +						
					&quot;&lt;/Content&gt;&quot; +
				&quot;&lt;/Layouts&gt;&quot; +
			&quot;&lt;/Message&gt;&quot; +
		&quot;&lt;/TOTVSIntegrator&gt;&quot;;
	return xml;
}</eventDescription>
    </WorkflowProcessEvent>
  </list>
  <list/>
  <list>
    <SwimLane>
      <color>82b0b7</color>
      <height>145</height>
      <width>1045</width>
      <positionX>0</positionX>
      <positionY>0</positionY>
      <stateName>Solicitante</stateName>
      <type>2</type>
      <parentSequence>0</parentSequence>
      <swimLanePK>
        <companyId>1</companyId>
        <processId>baixa-transferencia-ativo</processId>
        <version>1</version>
        <sequence>1</sequence>
      </swimLanePK>
    </SwimLane>
    <SwimLane>
      <color>adc9ac</color>
      <height>145</height>
      <width>1045</width>
      <positionX>0</positionX>
      <positionY>144</positionY>
      <stateName>Protheus</stateName>
      <type>2</type>
      <parentSequence>0</parentSequence>
      <swimLanePK>
        <companyId>1</companyId>
        <processId>baixa-transferencia-ativo</processId>
        <version>1</version>
        <sequence>2</sequence>
      </swimLanePK>
    </SwimLane>
  </list>
  <list>
    <ProcessComponGraf>
      <componType>1</componType>
      <positionX>192</positionX>
      <positionY>60</positionY>
      <processComponGrafPK>
        <companyId>1</companyId>
        <processId>baixa-transferencia-ativo</processId>
        <version>1</version>
        <componGrafSequence>6</componGrafSequence>
      </processComponGrafPK>
      <stateName>Transferência e Baixa de Ativo&#xd;
</stateName>
    </ProcessComponGraf>
    <ProcessComponGraf>
      <componType>1</componType>
      <positionX>444</positionX>
      <positionY>183</positionY>
      <processComponGrafPK>
        <companyId>1</companyId>
        <processId>baixa-transferencia-ativo</processId>
        <version>1</version>
        <componGrafSequence>8</componGrafSequence>
      </processComponGrafPK>
      <stateName>Solicitação incluída no Protheus</stateName>
    </ProcessComponGraf>
  </list>
  <list>
    <ProcessLinkAssoc>
      <processLinkAssocPK>
        <companyId>1</companyId>
        <processId>baixa-transferencia-ativo</processId>
        <version>1</version>
        <linkSequence>7</linkSequence>
      </processLinkAssocPK>
      <initialStateSequence>6</initialStateSequence>
      <finalStateSequence>3</finalStateSequence>
    </ProcessLinkAssoc>
    <ProcessLinkAssoc>
      <processLinkAssocPK>
        <companyId>1</companyId>
        <processId>baixa-transferencia-ativo</processId>
        <version>1</version>
        <linkSequence>9</linkSequence>
      </processLinkAssocPK>
      <initialStateSequence>8</initialStateSequence>
      <finalStateSequence>4</finalStateSequence>
    </ProcessLinkAssoc>
  </list>
  <list/>
  <list/>
  <list/>
  <list/>
</list>